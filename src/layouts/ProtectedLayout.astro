---
import { getSession } from '@auth/core'
import Layout from './Layout.astro'

const session = await getSession(Astro.request)

if (!session) {
  return Astro.redirect('/login')
}
---

<Layout>
  <main class="min-h-screen bg-gray-100">
    <div class="py-6 mx-auto max-w-7xl sm:px-6 lg:px-8">
      <div class="px-4 py-6 sm:px-0">
        <slot />
      </div>
    </div>
  </main>
</Layout> 